#!name = åŸº
#!desc = é€‚ç”¨äºæ‰‹æœºä¸ç”µè„‘ç«¯
#!author = MingdeCZ[https://github.com/MingdeCZ]
#!homepage =
#!icon = 
#!version = 1.0.1
#!date = 25.11.5
#!category = Nåˆ1

[Host]
# RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/bilibili.conf = server:https://doh.pub/dns-query
# RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/xiaomi.conf = server:https://doh.pub/dns-query
127.0.0.1.sslip.io = 127.0.0.1
127.atlas.skk.moe = 127.0.0.1
cdn.jsdelivr.net = cdn.jsdelivr.net.cdn.cloudflare.net
dns.alidns.com = 223.5.5.5, 223.6.6.6, 2400:3200:baba::1, 2400:3200::1
dns.pub = server:119.29.29.29
doh.360.cn = server:101.198.198.198
doh.pub = server:119.29.29.29
RULE-SET:https://github.com/MingdeCZ/OutSide-Reborn/raw/main/Surge/Rules/DNS360.list = server:https://doh.360.cn/dns-query
RULE-SET:https://github.com/MingdeCZ/OutSide-Reborn/raw/main/Surge/Rules/DNSystem.list= server:system
RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/alibaba.conf = server:h3://dns.alidns.com/dns-query
RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/baidu.conf = server:180.76.76.76
RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/bytedance.conf = server:180.184.2.2
RULE-SET:https://ruleset.skk.moe/Modules/Rules/sukka_local_dns_mapping/tencent.conf = server:https://doh.pub/dns-query

[General]
# @VirgilClyne
# ğŸŸ æ•´ç‚¹è–¯æ¡ï¼ˆæ›´å¤šè„šæœ¬ä¿¡æ¯ã€ç”¨æ³•å’Œæ•™ç¨‹è¯·è‡ªè¡Œåœ¨ https://github.com/VirgilClyne/GetSomeFries ä¸­æŸ¥æ‰¾ï¼‰
# ğŸŒ é€šç”¨è®¾ç½®å¢å¼º
# Always Raw TCP Hosts
# æ³¨ï¼šalways-raw-tcp-hosts å‚æ•°çš„ä¼˜å…ˆçº§é«˜äº force-http-engine-hosts å‚æ•°ä¸ MITM é…ç½®ã€‚
always-raw-tcp-hosts = www.google.com, 91.108.*, 5.28.195.*, 149.154.1*, 185.76.151.*, 91.105.1*
# Always Real IP Hosts
# å½“ Surge VIF å¤„ç† DNS é—®é¢˜æ—¶ï¼Œæ­¤é€‰é¡¹è¦æ±‚ Surge è¿”å›ä¸€ä¸ªçœŸæ­£çš„ IP åœ°å€ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªå‡ IP åœ°å€ã€‚
# DNS æ•°æ®åŒ…å°†è¢«è½¬å‘åˆ°ä¸Šæ¸¸ DNS æœåŠ¡å™¨ã€‚
always-real-ip = %APPEND% *.lan, *.direct, cable.auth.com, *.msftconnecttest.com, *.msftncsi.com, network-test.debian.org, detectportal.firefox.com, resolver1.opendns.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, stun.*, app.yinxiang.com, injections.adguard.org, local.adguard.org, localhost.*.qq.com, localhost.*.weixin.qq.com, *.logon.battlenet.com.cn, *.logon.battle.net, *.blzstatic.cn, music.163.com, *.music.163.com, *.126.net, musicapi.taihe.com, music.taihe.com, songsearch.kugou.com, trackercdn.kugou.com, *.kuwo.cn, api-jooxtt.sanook.com, api.joox.com, joox.com, y.qq.com, *.y.qq.com, streamoc.music.tc.qq.com, mobileoc.music.tc.qq.com, isure.stream.qqmusic.qq.com, dl.stream.qqmusic.qq.com, aqqmusic.tc.qq.com, amobile.music.tc.qq.com, *.xiami.com, *.music.migu.cn, music.migu.cn, proxy.golang.org, *.mcdn.bilivideo.cn, *.cmpassport.com, id6.me, open.e.189.cn, opencloud.wostore.cn, id.mail.wo.cn, mdn.open.wo.cn, hmrz.wo.cn, nishub1.10010.com, enrichgw.10010.com, *.wosms.cn, *.jegotrip.com.cn, *.icitymobile.mobi, *.pingan.com.cn, *.cmbchina.com, *.10099.com.cn, *.microdone.cn, pool.ntp.org, *.pool.ntp.org, ntp.*.com, time.*.com, ntp?.*.com, time?.*.com, time.*.gov, time.*.edu.cn, *.ntp.org.cn, PDC._msDCS.*.*, DC._msDCS.*.*, GC._msDCS.*.*, dns.msftncsi.com, *.turn.twilio.com, *.stun.twilio.com, stun.syncthing.net, *.sslip.io, *.nip.io

# ğŸš« é˜»æ­¢å¸¸è§çš„ HTTPDNS æœåŠ¡å™¨
force-http-engine-hosts = %APPEND% 119.29.29.29:80, dns.weixin.qq.com:80, dns.weixin.qq.com:8080, dns.weixin.qq.com:443

hijack-dns = 8.8.8.8:53, 8.8.4.4:53

# è·³è¿‡ä»£ç†
# è·³è¿‡æŸä¸ªåŸŸåæˆ–è€… IP æ®µï¼Œè¿™äº›ç›®æ ‡ä¸»æœºå°†ä¸ä¼šç”± Surge Proxy å¤„ç†ã€‚
# macOS ç‰ˆæœ¬ä¸­ï¼Œå¦‚æœå¯ç”¨äº† è®¾ç½®ä¸ºç³»ç»Ÿä»£ç†ï¼Œ è¿™äº›å€¼ä¼šè¢«å†™å…¥åˆ°ç³»ç»Ÿç½‘ç»œä»£ç†è®¾ç½®
# skip-proxy = %INSERT% localhost, *.local, captive.apple.com, e.crashlytics.com, sequoia.apple.com, seed-sequoia.siri.apple.com, www.baidu.com, passenger.t3go.cn, yunbusiness.ccb.com, wxh.wo.cn, gate.lagou.com, www.abchina.com.cn, login-service.mobile-bank.psbc.com, mobile-bank.psbc.com, 10.0.0.0/8, 100.64.0.0/10, 127.0.0.1/32, 169.254.0.0/16, 172.16.0.0/12, 192.168.0.0/16, 192.168.122.1/32, 193.168.0.1/32, 224.0.0.0/4, 240.0.0.0/4, 255.255.255.255/32, ::1/128, fc00::/7, fd00::/8, fe80::/10, ff00::/8, 2001::/32, 2001:db8::/32, 2002::/16, ::ffff:0:0:0:0/1, ::ffff:128:0:0:0/1
skip-proxy = %APPEND% *.local

[MITM]
hostname = %APPEND% 119.29.29.98, 119.29.29.99, amdc.alipay.com, amdc-sibling.alipay.com.cn, dns.jd.com, *.httpdns.pro, sub.store, security.wechat.com, weixin110.qq.com, www.google.cn, miniapp.sexytea2013.com, webapi.qmai.cn, miniapp.qmai.cn, web.meituan.com, api.szbgcx.cn, ccmsupport-sz.tenpay.com, redirector.googlevideo.com, mp.weixin.qq.com, cbd-gateway-service-applets.hualala.com, orders.kfc.com.cn, dynamicad.kfc.com.cn, res.kfc.com.cn, api.mcd.cn, mxsa.mxbc.net, ad.maoyan.com, wx.maoyan.com, vod-movie.maoyan.com, api.maoyan.com, capi.lkcoffee.com, ucmp.sf-express.com, newton.gumingnc.com, miniapp.sexytea2013.com, m.dianping.com, mapi.dianping.com, mapi.ghsmpwalmart.com, wx.17u.cn, npay.meituan.com, apimobile.meituan.com, api.m.jd.com, rms.meituan.com, img0*.luckincoffeecdn.com, tm-api.pin-dao.cn, cappapi.alittle-tea.com, alittle-tea.oss-cn-shanghai.aliyuncs.com, szextshort.weixin.qq.com

[URL Rewrite]
# ğŸŸ æ•´ç‚¹è–¯æ¡ï¼šğŸš« é˜»æ­¢å¸¸è§çš„ HTTPDNS æœåŠ¡å™¨ 119.29.29.98, 119.29.29.99, amdc.alipay.com, amdc-sibling.alipay.com.cn, dns.jd.com, *.httpdns.pro
# æ”¯ä»˜å®
# ^https?:\/\/amdc\.alipay\.com\/s?query - reject
# ^https?:\/\/amdc-sibling\.alipay\.com\.cn\/s?query - reject
^https?://110\.76\.8\.150/squery - reject
^https?://203\.209\.230\.39/squery - reject
^https?://203\.209\.245\.102/squery - reject
^https?://203\.209\.245\.158/squery - reject
^https?://203\.209\.247\.95/squery - reject
^https?://203\.209\.250\.114/squery - reject
^https?://203\.209\.250\.41/squery - reject
^https?://203\.209\.251\.147/squery - reject
^https?://2400:B180:6001::18F/squery - reject
^https?://2400:B200:1005:3000::155/squery - reject
^https?://2400:B200:1005:3000::1D3/squery - reject
^https?://2400:B200:5000:B000::C8/squery - reject
# ç™¾åº¦
^http://180\.76\.76\.112/v4/resolve - reject
^http://180\.76\.76\.220/v4/resolve - reject
# å“”å“©å“”å“©
# KEY_EXT_P2P_HTTPDNS_BILI_IP
# ^http:\/\/47\.101\.175\.206\/resolve - reject
# ^http:\/\/47\.100\.123\.169\/resolve - reject
# ^http:\/\/120\.46\.169\.234\/resolve - reject
# ^http:\/\/121\.36\.72\.124\/resolve - reject
# KEY_EXT_P2P_BILIDNS_CMCC_IP
# ^http:\/\/116\.63\.10\.135\/resolve - reject
# ^http:\/\/122\.9\.7\.134\/resolve - reject
# ^http:\/\/117\.185\.228\.108\/resolve - reject
# ^http:\/\/117\.144\.238\.29\/resolve - reject
# KEY_EXT_P2P_BILIDNS_CT_IP
# ^http:\/\/122\.9\.13\.79\/resolve - reject
# ^http:\/\/122\.9\.15\.129\/resolve - reject
# ^http:\/\/101\.91\.140\.224\/resolve - reject
# ^http:\/\/101\.91\.140\.124\/resolve - reject
# KEY_EXT_P2P_BILIDNS_CU_IP
# ^http:\/\/114\.116\.215\.110\/resolve - reject
# ^http:\/\/116\.63\.10\.31\/resolve - reject
# ^http:\/\/112\.64\.218\.119\/resolve - reject
# ^http:\/\/112\.65\.200\.117\/resolve - reject
# å­—èŠ‚è·³åŠ¨
^https?://.+\.zijieapi\.com/get_domains/ - reject
# äº¬ä¸œ
# ^https:\/\/dns\.jd\.com\/v6\/b - reject
# ç¾å›¢
# ^http:\/\/103\.37\.155\.60\/fetch - reject
# æ‹¼å¤šå¤š
# ^http:\/\/101\.35\.204\.35\/d - reject
# ^http:\/\/114\.110\.97\.97\/d - reject
^http://101\.35\.212\.35/d - reject
^http://114\.110\.96\.26/d - reject
^http://2402:4e00:1411:201:0:9964:ba21:5a41/d - reject
^http://240c:409f::3:0:163/d - reject
^http://240c:409f::3:0:359/d - reject
# é’äº‘
# å‚è€ƒï¼šhttps://mc.qcloudimg.com/static/qc_doc/d39d48b733835af8a2e223115ac67da7/doc-HttpDNS-Getting+Started.pdf
# å‚è€ƒï¼šhttps://main.qcloudimg.com/raw/document/product/pdf/379_3513_cn.pdf
# å‚è€ƒï¼šhttps://cloud.tencent.com/document/product/379/61200
^https?://119\.29\.29\.29/d - reject
# QQ éŸ³ä¹
^http://182\.256\.116\.116/d - reject
# å¾®åš
# å‚è€ƒï¼šhttps://github.com/CNSRE/HTTPDNSLib-for-iOS
^http://api\.weibo\.cn/2/httpdns/config - reject
^http://api\.weibo\.cn/httpdns/config - reject
# å¾®ä¿¡
# æ³¨æ„ï¼šä»¥ä¸‹åŸŸå HTTPS æ— æ³• MitMï¼Œå¦‚é€šè¿‡æ­¤é“¾æ¥æŸ¥è¯¢ï¼Œæ— æ³•å¤„ç†
# ^https?:\/\/dns\.weixin\.qq\.com\/cgi-bin\/micromsg-bin\/newgetdns - reject
# ^https?:\/\/dns\.weixin\.qq\.com\.cn\/cgi-bin\/micromsg-bin\/newgetdns - reject
^https?://hkextshort\.weixin\.qq\.com/cgi-bin/micromsg-bin/getcdndns - reject
^https?://short\.weixin\.qq\.com/cgi-bin/micromsg-bin/getcdndns - reject
# Wework
# å‚è€ƒï¼šhttps://res.mail.qq.com/zh_CN/wework_ip/latest.html
# ^http:\/\/182\.254\.116\.117\/d - reject
# ^http:\/\/182\.254\.118\.119\/d - reject
# çŸ¥ä¹
# å‚è€ƒï¼šhttps://github.com/lwd-temp/anti-ip-attribution/issues/24
^http://103\.41\.167\.237/v2/resolv - reject

# è°·æ­Œé€ä¸­é‡å®šå‘ï¼ˆå°†è°·æ­Œæœç´¢ä¸­å›½é‡å®šå‘è‡³ .com åŸŸåï¼‰www.google.cn
^https?://(www.)?(g|google)\.cn https://www.google.com 307

# å¾®ä¿¡
# å»å¹¿å‘Š mp.weixin.qq.com
^https://mp\.weixin\.qq\.com/mp/(advertisement_report|ad_complaint|ad_video|cps_product_info|getappmsgad|jsmonitor|masonryfeed|relatedarticle|relatedsearchword|report) - reject
^https?://szextshort\.weixin\.qq\.com/cgi-bin/mmoc-bin/ad - reject
# å°ç¨‹åºå‡€åŒ– xyst.yuanfudao.com, miniapp.sexytea2013.com, webapi.qmai.cn, miniapp.qmai.cn, web.meituan.com, api.szbgcx.cn, ccmsupport-sz.tenpay.com, redirector.googlevideo.com, www.youtube.com, mp.weixin.qq.com, cbd-gateway-service-applets.hualala.com, as.xiaojukeji.com, daijia.kuaidadi.com, orders.kfc.com.cn, dynamicad.kfc.com.cn, res.kfc.com.cn, api.mcd.cn, mxsa.mxbc.net, ad.maoyan.com, wx.maoyan.com, vod-movie.maoyan.com, api.maoyan.com, capi.lkcoffee.com, ucmp.sf-express.com, newton.gumingnc.com, miniapp.sexytea2013.com, m.dianping.com, mapi.dianping.com, mapi.ghsmpwalmart.com, wx.17u.cn, npay.meituan.com, apimobile.meituan.com, api.m.jd.com, rms.meituan.com, img0*.luckincoffeecdn.com, tm-api.pin-dao.cn, cappapi.alittle-tea.com, alittle-tea.oss-cn-shanghai.aliyuncs.com
# æ”¶é’±å§ @å¯è‰ğŸ…¥
^https:\/\/api\.szbgcx\.cn\/account\/adv\/ - reject
# è…¾è®¯ä¹˜è½¦ç 
^https?:\/\/ccmsupport-sz\.tenpay\.com\/cgi-bin\/common\/ccm_page_element.cgi - reject
# éœ¸ç‹èŒ¶å§¬
^https?://(?>webapi|miniapp)\.qmai\.cn/web/cmk-center/marketing/canvas/advert - reject

[Map Local]
# å¾®ä¿¡å°ç¨‹åºå‡€åŒ–
# èŒ¶ç™¾é“
^https?:\/\/cbd-gateway-service-applets\.hualala\.com\/arch\/api\/banner\/QueryBannerImgList data-type=text data="{}" status-code=200
# è‚¯å¾·åŸº
^https://orders\.kfc\.com\.cn/preorder-portal/api/v2/(coupon|activity) data-type=text data="{}" status-code=200
#^https?://dynamicad\.kfc\.com\.cn/api data-type=text data="{}" status-code=200
^https?://res\.kfc\.com\.cn/CRM/kfcad/custom_v\d/wxapp data-type=text data="{}" status-code=200
# éº¦å½“åŠ³
^https?:\/\/api\.mcd\.cn\/bff\/portal\/home\/hotActivity data-type=text data="{}" status-code=200
^https?:\/\/api\.mcd\.cn\/bff\/portal\/richpop data-type=text data="{}" status-code=200
# èœœé›ªå†°åŸ
#^https?:\/\/mxsa\.mxbc\.net\/api\/v\d\/adinfo\/adplace\/query data-type=text data="{}" status-code=200
# çŒ«çœ¼
# å¼¹çª— + æ¨ªå¹…å¹¿å‘Š
#^https:\/\/ad\.maoyan\.com\/api\/position\/detail data-type=text data="{}" status-code=200
# ç”µç« + çƒ­é—¨èµ›äº‹
^https?:\/\/wx\.maoyan\.com\/maoyansh\/api\/mobile\/(hotMatchList|eSportsIps) data-type=text data="{}" status-code=200
# æ”¾æ˜ å…
^https?:\/\/vod-movie\.maoyan\.com\/vod\/video\/onlineMovies\.json data-type=text data="{}" status-code=200
# ç²¾å½©æ¼”å‡º
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/movie\/wonderShow data-type=text data="{}" status-code=200
# ä¸ƒæ—¥ç²¾é€‰
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/performances\/calendar\/0 data-type=text data="{}" status-code=200
# ä»Šæ—¥å¿…æŠ¢
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/performances\/rob\/main data-type=text data="{}" status-code=200
# å¤§å’–æ–°åŠ¨æ€
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/celebrityBasicList\/query data-type=text data="{}" status-code=200
# ä¸ºä½ æ¨è
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/recommend\/performances data-type=text data="{}" status-code=200
# é¦–é¡µåº•éƒ¨æ¨è
^https?:\/\/api\.maoyan\.com\/sns\/common\/feed\/channel\/v\d\/list\.json data-type=text data="{}" status-code=200
# æ¼”å‡ºé¡µé¢å…¨éƒ¨æ‹¦æˆª
^https?:\/\/wx\.maoyan\.com\/maoyansh\/myshow\/ajax\/ad\/detail data-type=text data="{}" status-code=200
# ç‘å¹¸å’–å•¡
^https?:\/\/capi\.lkcoffee\.com\/resource\/m\/order\/orderBanner data-type=text data="{}" status-code=200
^https?:\/\/capi\.lkcoffee\.com\/resource\/market\/receiveCoupon\/receiveCouponPop data-type=text data="{}" status-code=200
# é¡ºä¸°é€Ÿè¿+
^https?:\/\/ucmp\.sf-express\.com\/proxy\/operation-platform\/info-flow-adver\/query data-type=text data="{}" status-code=200
^https:\/\/ucmp\.sf-express\.com\/proxy\/esgcempcore\/memberGoods\/pointMallService\/goodsList$ data-type=text data="{}" status-code=200
# å¤èŒ—èŒ¶é¥®ç‚¹å• newton.gumingnc.com
^https?:\/\/newton\.gumingnc\.com\/newton-buyer\/newton\/buyer\/(ump|touch|external\/front) data-type=text data="{}" status-code=200
# é€šç”¨è§„åˆ™
^https?:\/\/mp\.weixin\.qq\.com\/wapad\/getaddata\?action=getad data-type=text data="" status-code=200
^https?:\/\/mp\.weixin\.qq\.com\/wapad\/reportaddata\?action=exposure_report data-type=text data="" status-code=200
# èŒ¶é¢œæ‚¦è‰² miniapp.sexytea2013.com
^https?:\/\/miniapp\.sexytea2013\.com\/cms\/slot\/byCode\?code=MALL_INDEX_SLOT data-type=text data="{}" status-code=200
# å¤§ä¼—ç‚¹è¯„ m.dianping.com, mapi.dianping.com
^https?:\/\/m\.dianping\.com\/an\/gear\/dpmapp\/api\/readLionConfig\/config data-type=text data="{}" status-code=200
^https?:\/\/m\.dianping\.com\/mapi\/mgw\/growth\/queryhaima data-type=text data="{}" status-code=200
^https?:\/\/m\.dianping\.com\/wxmapi\/shop\/friendslike data-type=text data="{}" status-code=200
^https?:\/\/mapi\.dianping\.com\/mapi\/mgw\/growth\/clipboardquery data-type=text data="{}" status-code=200
# æ²ƒå°”ç› mapi.ghsmpwalmart.com
# é¦–é¡µè§’æ ‡
^https?:\/\/mapi\.ghsmpwalmart\.com\/api\d\/ec\/navigation\/page\/getPageActivityTab data-type=text data="{}" status-code=200
# é¦–é¡µå¼¹çª—
^https?:\/\/mapi\.ghsmpwalmart\.com\/api\d\/ec\/navigation\/spread\/querySpreadList data-type=text data="{}" status-code=200
# æˆ‘çš„é¡µæ¨ªå¹…
^https?:\/\/mapi\.ghsmpwalmart\.com\/api\d\/ec\/navigation\/user\/getAdvertisementPlayModuleInfo data-type=text data="{}" status-code=200
# æˆ‘çš„é¡µçœé’±å¡
^https?:\/\/mapi\.ghsmpwalmart\.com\/api\d\/ec\/user\/couponPackage\/couponPackageAccess data-type=text data="{}" status-code=200
# ç‘å¹¸å’–å•¡
^https?:\/\/img0[1-9]{1}\.luckincoffeecdn\.com\/group\d/M00/[A-Z0-9]{2}/[A-Z0-9]{2}/[a-zA-Z0-9]{29}\.(jpg|jpeg)_\.webp data-type=text data="" status-code=200
# å¥ˆé›ª tm-api.pin-dao.cn
^https:\/\/tm-api\.pin-dao\.cn\/home\/api\/index\/activeConfig\/v2 data-type=text data="{}" status-code=200
^https:\/\/tm-api\.pin-dao\.cn\/home\/api\/resource\/config\/homeBannerNodes data-type=text data="{}" status-code=200
# ä¸€ç‚¹ç‚¹ cappapi.alittle-tea.com, alittle-tea.oss-cn-shanghai.aliyuncs.com
#^https:\/\/alittle-tea\.oss-cn-shanghai\.aliyuncs\.com\/images\/platform\/alittle data-type=text data="{}" status-code=200

# åŒç¨‹æ—…è¡Œ
^https:\/\/wx\.17u\.cn\/xcxhomeapi\/aggregator\/index data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/mytourapi\/mytrip\/blankflight data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/membermessageuserapi\/message\/list data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wechatmypubapi\/myInfo\/messageBox data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/membermessageuserapi\/category\/getCategory data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/homemarketapi\/search\/recommend data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/mytourapi\/blankpage\/recommendList data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/homemarketapi\/aggregator\/index data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wxocbdapi\/adService\/getAd data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/homemarketapi\/aggregator\/index data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wechatmypubapi\/myInfo\/orderRemind data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wechatmypubapi\/myInfo\/icons data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wechatmypubapi\/myInfo\/memberShow data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/xcxhomeapi\/home\/converge data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/platformpubapi\/customer\/lead\/getInfo data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/mytourapi\/mytrip\/toptips data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/vacation\/webapp\/tailor\/miniHomeConfig data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/mytourapi\/recommendation\/arriveCity data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wechatmypubapi\/myInfo\/memberInfo data-type=text data="{}" status-code=200
^https:\/\/wx\.17u\.cn\/wireless\/monitor\/wx\/common\/compressevent data-type=text data="{}" status-code=200
^https:\/\/a1d5b283e-wx621112590b635086\.sh\.wxgateway\.com\/xcxhomeapi\/home\/screen data-type=text data="{}" status-code=200
# ç¾å›¢
^https:\/\/web\.meituan\.com\/api\/miniprogram\/my\/novelZone data-type=text data="{}" status-code=200
^https:\/\/web\.meituan\.com\/api\/miniprogram\/my\/resources data-type=text data="{}" status-code=200
^https:\/\/npay\.meituan\.com\/conch\/flow\/mypage-wallet-info data-type=text data="{}" status-code=200
^https:\/\/web\.meituan\.com\/newUser\/returnMoney\/popWindow data-type=text data="{}" status-code=200
^https:\/\/npay\.meituan\.com\/conch\/walletv3\/wechat-pop-window data-type=text data="{}" status-code=200
^https:\/\/apimobile\.meituan\.com\/group\/v1\/deal\/searchpage\/defaultword data-type=text data="{}" status-code=200
# äº¬ä¸œ
^https:\/\/api\.m\.jd\.com\/\?loginType=11 data-type=text data="{}" status-code=200

[Body Rewrite]
# å¾®ä¿¡å°ç¨‹åºå‡€åŒ–
# ç‘å¹¸å’–å•¡
http-response ^https?:\/\/capi\.lkcoffee\.com\/resource\/m\/(sys\/app\/adposNew|eorder\/product\/popAppTagProductList) \{.+\} '{ "status": "SUCCESS" }'
# ç¾å›¢
http-response-jq ^https://web\.meituan\.com/api/miniprogram/(tabbar/all/query|index/aggregate) '. as $in | if ($in.data | type) == "array" then .data |= map(select(.name? | IN("é¦–é¡µ","ç¥åˆ¸","æˆ‘çš„"))) elif ($in.data | type) == "object" then .data |= del(.oneCentBuy) else . end'
# ç¾å›¢ç‚¹é¤
http-response-jq ^https:\/\/rms\.meituan\.com\/api\/v1\/rmsmina\/c\/queryShopPortalInfo\? 'del(.data.popUpWindows)'
# éœ¸ç‹èŒ¶å§¬
http-response-jq ^https?://(?>webapi|miniapp)\.qmai\.cn/web/catering([0-9]-apiserver)?/advertising/ad/advertiseInfo 'if (.data | type) == "array" and (.data | length > 0) then .data |= map( .detailInfo.popDayLimit = 0 | .detailInfo.adType = 4 | .detailInfo.closeButtonLocation = 0 | .detailInfo.skipButtonLocation = 0 | .detailInfo.adLandingInfoList = [{ id: "", imgSource: null, landingPageModel: "", landingPageLink: null, landingPageType: null, landingGroup: null, styleType: null, orderIndex: 1, landingPageText: null, landingPageImg: "", landingPageName: "", messageModel: null }] ) else . end'
# èŒ¶é¢œæ‚¦è‰²
http-response-jq ^https?://miniapp\.sexytea2013\.com/cms/slot/queryByCodes\?codes=INDEX_TOP_BANNER 'del(.data.INDEX_SLOT_01, .data.INDEX_SLOT_02) | .data.INDEX_TOP_BANNER.contents |= map(del(.bubble, .figure))'

# ä¸€ç‚¹ç‚¹
http-response-jq ^https:\/\/cappapi\.alittle-tea\.com\/open\?method=catering\.set\.ad 'del(.data)'

[Rule]
# è§„åˆ™ä¿®æ­£
AND, ((DOMAIN-KEYWORD, tnc, extended-matching), (OR, ((DOMAIN-SUFFIX, capcutapi.com, extended-matching), (DOMAIN-SUFFIX, zijieapi.com, extended-matching), (DOMAIN-SUFFIX, isnssdk.com, extended-matching), (DOMAIN-SUFFIX, toutiaoapi.com, extended-matching), (DOMAIN-SUFFIX, bytedance.com, extended-matching), (DOMAIN-SUFFIX, snssdk.com, extended-matching), (DOMAIN-SUFFIX, sgsnssdk.com, extended-matching)))), DIRECT
DOMAIN, ca.iadsdk.apple.com, DIRECT, extended-matching

[Script]
# @Sub-Storeï¼ˆé«˜çº§è®¢é˜…ç®¡ç†å·¥å…·ï¼Œæ—  ability å‚æ•°ç‰ˆæœ¬ï¼Œä¸ä¼šçˆ†å†…å­˜ï¼Œ å¦‚æœéœ€è¦ä½¿ç”¨æŒ‡å®šèŠ‚ç‚¹åŠŸèƒ½ ä¾‹å¦‚[åŠ æ——å¸œè„šæœ¬æˆ–è€…cnameè„šæœ¬] å¯ä»¥ç”¨å¸¦ ability å‚æ•°ï¼‰ï¼ˆéœ€å¼€å¯ è„šæœ¬ã€å¤å†™å’Œ MitM ç­‰åŠŸèƒ½ï¼Œå¹¶æŒ‡å®šä»£ç†ç­–ç•¥ï¼Œåè®¿é—® https://sub.storeï¼‰ï¼ˆæ›´å¤šè„šæœ¬ä¿¡æ¯è¯·è‡ªè¡Œåœ¨ https://github.com/sub-store-org/Sub-Store ä¸­æŸ¥æ‰¾ï¼‰sub.store
# ä¸»ç¨‹åº å·²ç»å»æ‰ Sub-Store Core çš„å‚æ•° [, ability = http-client-policy] ä¸ä¼šçˆ†å†…å­˜ï¼Œè¿™ä¸ªå‚æ•°åœ¨ Surge éå¸¸å ç”¨å†…å­˜ï¼›å¦‚æœä¸éœ€è¦ä½¿ç”¨æŒ‡å®šèŠ‚ç‚¹åŠŸèƒ½ ä¾‹å¦‚[åŠ æ——å¸œè„šæœ¬æˆ–è€… cname è„šæœ¬] åˆ™å¯ä»¥ä½¿ç”¨æ­¤è„šæœ¬
Sub-Store Core = type=http-request, pattern=^https?://sub\.store/((download)|api/(preview|sync|(utils/node-info))), script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-1.min.js, requires-body = true, timeout = 120
Sub-Store Simple = type=http-request, pattern=^https?://sub\.store, script-path=https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-0.min.js, requires-body = true, timeout = 120

# @zZPigletï¼ˆæ›´å¤šè„šæœ¬ä¿¡æ¯è¯·è‡ªè¡Œåœ¨ https://github.com/zZPiglet/Task/tree/master ä¸­æŸ¥æ‰¾ï¼‰
# è·³è¿‡ä¸­é—´ç•Œé¢ï¼Œæ”¯ä»˜å®é“¾æ¥å’Œè¢«å°ç¦æ·˜å®é“¾æ¥è¿›è¡Œé€šçŸ¥å¼¹çª—è·³è½¬ï¼Œåœ¨å¾®ä¿¡ä¸­ç”¨å¿«ç…§æ˜¾ç¤ºè¢«å°ç¦çš„é“¾æ¥ï¼ˆå¯é€‰ï¼‰ï¼Œåœ¨å¾®ä¿¡ä¸­è¿›è¡Œå¼ºåˆ¶é‡å®šå‘ï¼ˆå¯é€‰ï¼‰ï¼ˆiOS/macOSã€å¾®ä¿¡/WeChat ã€ç¾¤èŠ/æ‰«ç å‡å¯ä½¿ç”¨ï¼‰security.wechat.com, weixin110.qq.com
è§£é™¤å¾®ä¿¡é“¾æ¥é™åˆ¶ = type=http-response, pattern=^https://(weixin110\.qq|security.wechat)\.com/cgi-bin/mmspamsupport-bin/newredirectconfirmcgi\?, requires-body = 1, max-size = 0, script-path = https://github.com/zZPiglet/Task/raw/master/asset/UnblockURLinWeChat.js